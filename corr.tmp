Correct:
function(x, start, stop)
instruction :
	BASEGUARD_OP 1 7
	GETVAR_OP 2
	ISCHARACTER_OP
	NOT_OP 3
	BRIFNOT_OP 4 26
	BASEGUARD_OP 5 22
	GETBUILTIN_OP 6
	GETVAR_OP 2
	PUSHARG_OP
	CALLBUILTIN_OP 5
	SETVAR_OP 2
	GOTO_OP 27
	LDNULL_OP
	POP_OP
	BASEGUARD_OP 8 60
	GETINTLBUILTIN_OP 9
	GETVAR_OP 2
	PUSHARG_OP
	BASEGUARD_OP 10 46
	GETBUILTIN_OP 11
	GETVAR_OP 12
	PUSHARG_OP
	CALLBUILTIN_OP 10
	PUSHARG_OP
	BASEGUARD_OP 13 57
	GETBUILTIN_OP 11
	GETVAR_OP 14
	PUSHARG_OP
	CALLBUILTIN_OP 13
	PUSHARG_OP
	CALLBUILTIN_OP 15
	RETURN_OP
constant pool : [{(if(!(is.character(x)), <-(x, as.character(x))), .Internal(substr(x, as.integer(start), as.integer(stop)))), is.character(x), x, !(is.character(x)), if(!(is.character(x)), <-(x, as.character(x))), as.character(x), as.character, <-(x, as.character(x)), .Internal(substr(x, as.integer(start), as.integer(stop))), substr, as.integer(start), as.integer, start, as.integer(stop), stop, substr(x, as.integer(start), as.integer(stop)), (data : [-2147483648, 1, 1, 1, 2, 2, 1, 3, 3, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 7, 7, 4, 4, 4, 4, 8, 8, 8, 8, 8, 8, 8, 8, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 8, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 8, 8, 8, 8], args : list: [(class) ['expressionsIndex']])]

(env : parent : global env, frame : (x) { [[(X, i) (['substr'], empty env) })
